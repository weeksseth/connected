<html>
  <head>
    <style>
      body {
        margin: 0;
      }

      .box {
        transition: transform .5s ease;

        width: 200px;
        height: 200px;
        background-color: black;
      }

      /*.box:nth-child(3n) {display: none;}*/

      .container {
        width: 800px;
        margin-right: auto;
        margin-left: auto;
      }
    </style>
  </head>
  <body>
    <div class="container"></div>
  </body>

  <script src="bricks.min.js"></script>
  <script>
    // stress test
    var container = document.querySelector('.container')

    // generate a bunch of divs, with random heights
    for(var i = 0; i < 10; i++) {
      var div = document.createElement('div')
      div.classList.add('box')
      div.style.height = Math.floor(Math.random() * 500)
      container.appendChild(div)
    }

    // define your grid at different breakpoints, mobile first (smallest to largest)

    const sizes = [
    { columns: 2, gutter: 10 },                   // assumed to be mobile, because of the missing mq property
    { mq: '768px', columns: 3, gutter: 25 },
    { mq: '1024px', columns: 4, gutter: 50 }
    ]

    // create an instance

    const instance = Bricks({
    container: '.container',
    packed:    'data-packed',        // if not prefixed with 'data-', it will be added
    sizes:     sizes,
    position: false
    })

    // bind callbacks

    instance
    .on('pack',   () => console.log('ALL grid items packed.'))
    .on('update', () => console.log('NEW grid items packed.'))
    .on('resize', size => console.log('The grid has be re-packed to accommodate a new BREAKPOINT.'))

    // start it up, when the DOM is ready
    // note that if images are in the grid, you may need to wait for document.readyState === 'complete'

    document.addEventListener('DOMContentLoaded', event => {
      console.time('bricks')
    instance
      .resize(true)     // bind resize handler
      .pack()           // pack initial items
      console.timeEnd('bricks')
    })
  </script>
</style>
